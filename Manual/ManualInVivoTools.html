<html><head><title>Manual: InVivoTools</title><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');ol{margin:0;padding:0}.c14{max-width:451.3pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c6{color:inherit;text-decoration:inherit}.c3{color:#1155cc;text-decoration:underline}.c9{margin-left:54pt}.c5{font-family:"Consolas"}.c2{font-weight:bold}.c1{text-indent:36pt}.c4{margin-left:36pt}.c10{margin-left:18pt}.c7{height:11pt}.c0{direction:ltr}.c13{margin-left:72pt}.c15{text-align:right}.c8{font-style:italic}.c12{vertical-align:sub}.c11{font-size:9pt}.title{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:36pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}.subtitle{padding-top:18pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:24pt;font-family:"Georgia";padding-bottom:4pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:24pt;line-height:1.15;text-align:left;color:#000000;font-size:18pt;font-family:"Arial";font-weight:bold;padding-bottom:6pt}h2{padding-top:18pt;line-height:1.15;text-align:left;color:#000000;font-size:14pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h3{padding-top:14pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Arial";font-weight:bold;padding-bottom:4pt}h4{padding-top:12pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Arial";padding-bottom:2pt}h5{padding-top:11pt;line-height:1.15;text-align:left;color:#666666;font-size:10pt;font-family:"Arial";font-weight:bold;padding-bottom:2pt}h6{padding-top:10pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:10pt;font-family:"Arial";padding-bottom:2pt}</style></head><body class="c14"><p class="c0 title"><a name="h.3w6gq887aeuf"></a><span>InVivoTools, the manual</span></p><p class="c0"><span class="c2">Author: Alexander Heimel</span></p><p class="c0"><span class="c2">Location: </span><span class="c3 c2"><a class="c6" href="https://sites.google.com/site/alexanderheimel/protocols/invivotools">https://sites.google.com/site/alexanderheimel/protocols/invivotools</a></span></p><p class="c0"><span class="c2">Version: 2013-01-18</span></p><p class="c7 c0"><span></span></p><p class="c10 c0"><span class="c3"><a class="c6" href="#h.ngcw4vfciauo">Installation and maintenance</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.xilgouwk7ahv">Installation</a></span></p><p class="c0 c4"><span class="c3"><a class="c6" href="#h.gcwxoi41b2w">Post installation (both Windows and Linux)</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.8ely6t9jm52h">Updating from repository</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.v8otf4f2vs71">Committing local changes</a></span></p><p class="c10 c0"><span class="c3"><a class="c6" href="#h.azd3eqm5dnn1">Database control</a></span></p><p class="c9 c0"><span class="c3"><a class="c6" href="#h.on1pyledv71k">Load</a></span></p><p class="c0 c9"><span class="c3"><a class="c6" href="#h.vulpjp3whwyb">Import</a></span></p><p class="c9 c0"><span class="c3"><a class="c6" href="#h.5vm3af30nr8n">Export</a></span></p><p class="c9 c0"><span class="c3"><a class="c6" href="#h.i0gju2km6crd">Sort</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.zda3bo6e7lh4">Selecting and searching</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.2awmv9ps0xg9">Access to databases</a></span></p><p class="c10 c0"><span class="c3"><a class="c6" href="#h.14b4b6on9xp4">Subject database</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.vgpqqx98t2tk">Mice - mouse_db</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.g9cpybfejjtf">Protocols - dec_db</a></span></p><p class="c0 c10"><span class="c3"><a class="c6" href="#h.ce5i9xj64g6">Experiment databases</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.gof4a1sswhzu">Optical imaging - experiment_db</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.gcqvqbbzi6aj">Electrophysiology - ectestdb</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.1oumpodsejih">Two-photon imaging - tptestdb</a></span></p><p class="c10 c0"><span class="c3"><a class="c6" href="#h.utif6wc2lhpn">Graphics database - graph_db</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.go26ekcn1cfv">Simple examples</a></span></p><p class="c4 c0"><span class="c3"><a class="c6" href="#h.48kspi8cm9je">Fields</a></span><span class="c3"><a class="c6" href="#h.8vergzk6inaf">name</a></span></p><p class="c10 c0"><span class="c3"><a class="c6" href="#h.k3iygzn1p1zv">Group database - group_db</a></span></p><p class="c10 c0"><span class="c3"><a class="c6" href="#h.s0gfh6amtby0">Measure database - measure_db</a></span></p><p class="c10 c0"><span class="c3"><a class="c6" href="#h.9zs62m95pwtg">Database administration</a></span></p><p class="c10 c0"><span class="c3"><a class="c6" href="#h.fbytntyycm5d">Software internals</a></span></p><p class="c7 c0"><span></span></p><p class="c0"><span>This document describes the installation and operation of the InVivoTools collection. InVivoTools is a system for journaling, analyzing and retrieving the data. The Graph_db provides a flexible way to produce graphs for stored data. </span></p><p class="c0"><span>For information on showing visual stimuli check out</span></p><p class="c0"><span class="c3"><a class="c6" href="https://sites.google.com/site/alexanderheimel/protocols/manual-newstim-and-runexperiment">https://sites.google.com/site/alexanderheimel/protocols/manual-newstim-and-runexperiment</a></span></p><p class="c0"><span>For information on microscopic image analysis, see </span><span class="c3"><a class="c6" href="https://sites.google.com/site/alexanderheimel/protocols/puncta-analysis-using-matlab">https://sites.google.com/site/alexanderheimel/protocols/puncta-analysis-using-matlab</a></span></p><hr style="page-break-before:always;display:none;"><p class="c7 c0"><span></span></p><h1 class="c0"><a name="h.ngcw4vfciauo"></a><span>Installation and maintenance</span></h1><p class="c0"><span>A computer with Windows, Linux or OSX with Matlab installed is a prerequisite.</span></p><h2 class="c0"><a name="h.xilgouwk7ahv"></a><span>Installation</span></h2><h3 class="c0"><a name="h.wrqeb5euu2sp"></a><span>Linux</span></h3><p class="c0"><span>Install version control package Subversion (on a Debian derived system, like Ubuntu)</span></p><p class="c1 c0"><span class="c5">sudo apt-get install subversion</span></p><p class="c0"><span>Download InVivoTools software, by typing in a terminal window:</span></p><p class="c4 c0"><span class="c5 c11">svn checkout svn://giskard.intern.nin.knaw.nl/InVivoTools ~/Software/InVivoTools</span></p><h3 class="c0"><a name="h.50wzzhr5n2b"></a><span>Windows</span></h3><p class="c0"><span>First, install a client for the version control system Subversion. A list of clients is available at</span><span><a class="c6" href="http://en.wikipedia.org/wiki/Comparison_of_Subversion_clients">&nbsp;</a></span><span class="c3"><a class="c6" href="http://en.wikipedia.org/wiki/Comparison_of_Subversion_clients">http://en.wikipedia.org/wiki/Comparison_of_Subversion_clients</a></span><span>. My personal favorite is</span><span><a class="c6" href="http://tortoisesvn.net/downloads.html">&nbsp;</a></span><span class="c3"><a class="c6" href="http://tortoisesvn.net/downloads.html">tortoisesvn</a></span><span>. An good alternative is</span><span><a class="c6" href="http://www.syntevo.com/smartsvn/index.html">&nbsp;</a></span><span class="c3"><a class="c6" href="http://www.syntevo.com/smartsvn/index.html">SmartSVN</a></span><span>&nbsp;of which a minimal feature version can be downloaded</span><span><a class="c6" href="http://www.syntevo.com/smartsvn/download.html">&nbsp;</a></span><span class="c3"><a class="c6" href="http://www.syntevo.com/smartsvn/download.html">here</a></span><span>&nbsp;for free. Once you have downloaded and installed a subversion client, you need to check out the matlab InVivoTools from svn://giskard.intern.nin.knaw.nl/InVivoTools. More client specific details are given below.</span></p><h4 class="c0"><a name="h.ilh3a3jqyggz"></a><span>TortoiseSVN specific</span></h4><p class="c0"><span>After installation you may need to restart your computer for integration of TortoiseSVN with Windows Explorer. Next start My Computer or Windows Explorer and navigate to C:\. Create a new folder C:\Software\InVivoTools and within this folder right click. In the popup menu select checkout and checkout from svn://giskard.intern.nin.knaw.nl/InVivoTools</span></p><h4 class="c0"><a name="h.sp0yu5pxe927"></a><span>SmartSVN specific.</span></h4><p class="c0"><span>After extraction of the installation files, click on the SmartSVN shortcut on the desktop. During installation, you can select the &lsquo;Free Professional edition&rsquo;, which will provide enough functionality even after the 31 day trial period.</span></p><p class="c0"><span>Choose &lsquo;My repositories are already set up&rsquo; and click [Finish].</span></p><p class="c0"><span>Next select &lsquo;Check out project from repository&rsquo;, go for the Quick Checkout option with</span></p><p class="c0"><span>URL: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;svn://giskard.intern.nin.knaw.nl/InVivoTools</span></p><p class="c0"><span>Local Directory: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C:\Software\InVivoTools</span></p><p class="c0"><span>Choose to create the directory &ldquo;C:\Software\InVivoTools&rdquo; if it doesn&rsquo;t already exist.</span></p><p class="c0"><span>Choose [Validate] when requested.</span></p><h2 class="c0"><a name="h.gcwxoi41b2w"></a><span>Post installation (both Windows and Linux)</span></h2><p class="c0"><span>Start Matlab and go to menu: File / Set path &hellip;</span></p><p class="c0"><span>Choose [Add Folder] (not [Add with Subfolders]) and browse to the folder where you just installed the tools, e.g. /home/dataman/Software/InVivoTools in Linux or C:\Software\InVivoTools in Windows.</span></p><p class="c0"><span>Next click [Save], and then restart Matlab.</span></p><h2 class="c0"><a name="h.8ely6t9jm52h"></a><span>Updating from repository</span></h2><h3 class="c0"><a name="h.6be64jymhgp8"></a><span>Linux</span></h3><p class="c0"><span>Open terminal window and type:</span></p><p class="c1 c0"><span class="c5">cd ~/Software/InVivoTools</span></p><p class="c0 c1"><span class="c5">svn update</span></p><h3 class="c0"><a name="h.8hlx7ju59k9z"></a><span>Windows</span></h3><p class="c0"><span>Go in Windows Explorer or My Computer to the C:\Software folder. Right-click on the InVivoTools folder and select &lsquo;Update ...&rsquo; from the pop-up menu.</span></p><h2 class="c0"><a name="h.v8otf4f2vs71"></a><span>Committing local changes</span></h2><h3 class="c0"><a name="h.ee6m9klrqfem"></a><span>Linux</span></h3><p class="c0"><span>Open terminal window and type</span></p><p class="c4 c0"><span class="c5">cd ~/Software/InVivoTools<br>svn status</span></p><p class="c0"><span>to check modifications and next type</span></p><p class="c1 c0"><span class="c5">svn commit -m &ldquo;[short message describing the relevant changes]&rdquo;</span></p><p class="c0"><span>to commit them. Where of course the message needs to be replaced with something describing &nbsp;the changes you made.</span></p><h3 class="c0"><a name="h.f4u41q89opeb"></a><span>Windows</span></h3><p class="c0"><span>Go in Windows Explorer or My Computer to the C:\Software folder. Right-click on the InVivoTools folder and select &lsquo;Commit ...&rsquo; from the pop-up menu. Write a relevant change log message.</span><hr style="page-break-before:always;display:none;"></p><h1 class="c0"><a name="h.azd3eqm5dnn1"></a><span>Database control</span></h1><p class="c0"><span>The main user interaction with the data is through a set of databases. &nbsp;For each database a control and a record window are opened. The buttons on the control window may vary depending on the experiment type and host computer, but will always contain the following buttons:</span></p><p class="c0"><img height="272" src="images/image13.png" width="589"></p><p class="c0"><span>The function of most buttons is straight forward. Some may require some extra explanation</span></p><h3 class="c0"><a name="h.on1pyledv71k"></a><span>Load&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h3><p class="c0"><span>Opens a window to select a database in the MATLAB format to load. It will open the database and create a lock file in the same folder with information of user and host. &nbsp;Before opening it will check if such a lock file already exists, and in that case offer the choice to replace the lock file or open the database as read-only. Only if you are certain the lock file is a remnant of a crashed session replace it. </span></p><h3 class="c0"><a name="h.vulpjp3whwyb"></a><span>Import</span></h3><p class="c0"><span>Open a window to select a database in MATLAB format to insert in currently open database behind the current record.</span></p><h3 class="c0"><a name="h.5vm3af30nr8n"></a><span>Export</span></h3><p class="c0"><span>Saves the whole database or the currently open selection to a different MATLAB file or a semi-colon separated CSV file. The latter could be loaded into Excel, but as the measures do not get exported well, this is not as useful as it could be. This could be developed further if there is a demand.</span></p><h3 class="c0"><a name="h.i0gju2km6crd"></a><span>Sort</span></h3><p class="c0"><span>Sorts the database in ascending order of the first field.</span></p><h2 class="c0"><a name="h.zda3bo6e7lh4"></a><span>Selecting and searching</span></h2><p class="c0"><span>One of the most useful things of the database control is the possibility to find a record or a selection of records by typing a selection critieria. For this criteria, you can use a number of operators:</span></p><p class="c0"><span>= equal</span></p><p class="c0"><span>~ case-insensitive equal</span></p><p class="c0"><span>! unequal</span></p><p class="c0"><span>&lt; smaller than</span></p><p class="c0"><span>&gt; larger than</span></p><p class="c0"><span>* match all</span></p><p class="c0"><span>, logical and</span></p><p class="c0"><span>| logical or</span></p><p class="c0"><span>() grouping brackets</span></p><p class="c7 c0"><span></span></p><p class="c0"><span>Some example criteria are:</span></p><p class="c0"><span>mouse=12.10.1.21,test=t0001</span></p><p class="c0"><span>stim_type=ps,date&gt;2012,reliable=1</span></p><p class="c0"><span>mouse = 05.01,type=*MD*</span></p><p class="c0"><span>mouse = 05.01,(type=*MD*p26|type=*MD*p27*)</span></p><p class="c0"><span>(cre=kazu,typing==0) | strain=*B6*</span></p><p class="c7 c0"><span></span></p><p class="c0"><span>The toggle switch on the right hand side of the criteria edit box turns the filtering on and off.</span></p><h2 class="c0"><a name="h.2awmv9ps0xg9"></a><span>Access to databases</span></h2><p class="c0"><span>Temporary access to the the database struct array can be gained, by clicking the Help button in the control window followed or preceded by </span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global global_db global_record</span></p><p class="c0"><span>at the matlab prompt. global_db contains the database, global_record the current record. Note that changes in this database will not automatically enter the open database. Either use </span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ud = get(gcf,&rsquo;userdata&rsquo;); ud.db = db; set(gcf,&rsquo;userdata&rsquo;,&rsquo;ud&rsquo;);</span></p><p class="c1 c0"><span class="c5">control_db_callback(ud.h.current_record);</span></p><p class="c0"><span>or close the database and start a new session with </span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;control_db( db )</span></p><p class="c0"><span>to save the database.</span></p><p class="c7 c0"><span></span></p><p class="c0"><span>To access the database from a function, use</span></p><p class="c1 c0"><span>[testdb, experimental_pc] = expdatabases( type, );</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[db,filename] = load_testdb(testdb);</span></p><p class="c0"><span>where type could be &lsquo;oi&rsquo;, &lsquo;ec&rsquo; or &lsquo;tp&rsquo;. To save the database use</span></p><p class="c1 c0"><span>&nbsp;[filename,lockfile] = save_db(db, filename)</span></p><p class="c0"><span>Type e.g. &lsquo;help save_db&rsquo; for more options.</span></p><p class="c7 c0"><span></span></p><h1 class="c0"><a name="h.glvamf544mn0"></a><span>Subject databases</span></h1><p class="c0"><span>InVivoTools comes with a number of databases. The controls look all roughly similar, but each comes with some additional specific buttons.</span></p><h2 class="c0"><a name="h.vgpqqx98t2tk"></a><span>Mice - mouse_db</span><img height="187" src="images/image16.png" width="502"></h2><p class="c0"><span class="c2">Welfare form</span><span>&nbsp;will produce a form which can be used as yellow card cage form for use in the IWO stables and as well fare form for the D2 lab. Information about the DEC protocol is retrieved from the protocoldec_db. </span></p><p class="c0"><span class="c2">Schedule</span><span>&nbsp;will list the scheduled experiments for mice in the database for the next two weeks. </span></p><p class="c0"><span class="c2">Next number</span><span>&nbsp;produces the next available dec number if the protocol and group number have been entered in the mouse field.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0"><span class="c2">List</span><span>&nbsp;gives a list of all mice or the current selection in the Matlab command window.</span></p><p class="c0"><span class="c2">Order</span><span>&nbsp;form will make a mouse order form.</span></p><p class="c0"><span class="c2">Info</span><span>&nbsp;links the current mouse to the MS Access mouse database.</span></p><p class="c0 c7"><span></span></p><p class="c7 c0"><span></span></p><h2 class="c0"><a name="h.g9cpybfejjtf"></a><span>Protocols - dec_db</span></h2><p class="c0"><img height="188" src="images/image10.png" width="442"></p><p class="c7 c0"><span></span></p><p class="c0"><span class="c2">Show</span><span>&nbsp;will show the protocol&rsquo;s pdf if it is present in the folder InVivo/Databases/../../DEC, which on the network will be //vs01/Shared/DEC.</span></p><p class="c0"><span class="c2">Available</span><span>&nbsp;will calculate the number of mice still available by deducting the number of mice of each group that have a record in the mouse database.</span></p><p class="c0"><span class="c2">Welfare form</span><span>&nbsp;produces an example welfare form with the DEC protocol infomation.</span></p><h1 class="c0"><a name="h.ce5i9xj64g6"></a><span>Experiment databases</span></h1><p class="c0"><span>To influence which experiment is loaded, set the experiment name by</span></p><p class="c1 c0"><span class="c5">experiment(&lsquo;12.23&rsquo;)</span></p><p class="c0"><span>to load the databases for your specific DEC protocol or experiment, where 12.23 should of course be replaced by your own dec-protocol number or another descriptive name for the group of experiment. You can also select</span></p><p class="c1 c0"><span class="c5">experiment(&lsquo;&rsquo;)</span></p><p class="c0"><span>to open the common database. </span></p><p class="c7 c0"><span></span></p><p class="c0"><span>Which experimental database is opened by default can also depend on the computer the software is ran on. The mimic another computer use e.g.</span></p><p class="c1 c0"><span class="c5">host(&lsquo;daneel&rsquo;)</span></p><p class="c0"><span>where &lsquo;daneel&rsquo; should be replaced by the computer you want to pretend to work on.</span></p><h2 class="c0"><a name="h.gof4a1sswhzu"></a><span>Optical imaging - experiment_db</span></h2><p class="c0"><img height="187" src="images/image18.png" width="438"></p><p class="c0"><span class="c2">Stimulus</span><span>&nbsp;will start NewStim&rsquo;s RunExperiment window for visual stimulation control. The button only appears on computers where Psychophysics Toolbox is installed.</span></p><p class="c0"><span class="c2">Analyse</span><span>&nbsp;will analyse the acquired data.</span></p><p class="c0"><span class="c2">Results</span><span>&nbsp;shows the results. </span></p><p class="c0"><span>P</span><span class="c2">ull down test</span><span>&nbsp;button next to [Results] is used for selecting the next test. When [+] is clicked to create a new record, some values will already be filled in depending on which test is selected in </span></p><p class="c0"><span>this pull down.</span></p><p class="c0"><span class="c2">Close figs</span><span>&nbsp;will close all not persisent figures, i.e. not the database control and record forms.</span></p><h2 class="c0"><a name="h.gcqvqbbzi6aj"></a><span>Electrophysiology - ectestdb</span></h2><p class="c0"><img height="187" src="images/image01.png" width="438"></p><p class="c0"><span class="c2">Stimulus</span><span>&nbsp;will start NewStim&rsquo;s RunExperiment window for visual stimulation control. The button only appears on computers where Psychophysics Toolbox is installed.</span></p><p class="c0"><span class="c2">Analyse</span><span>&nbsp;will analyse the acquired data.</span></p><p class="c0"><span class="c2">Results</span><span>&nbsp;shows the results. </span></p><p class="c0"><span>P</span><span class="c2">ull down test</span><span>&nbsp;button next to [Results] is used for selecting the next test. When [+] is clicked to create a new record, some values will already be filled in depending on which test is selected in </span></p><p class="c0"><span>this pull down.</span></p><p class="c0"><span class="c2">Close figs</span><span>&nbsp;will close all not persisent figures, i.e. not the database control and record forms.</span></p><h2 class="c0"><a name="h.1oumpodsejih"></a><span>Two-photon imaging - tptestdb</span></h2><p class="c0"><img height="187" src="images/image03.png" width="502"></p><p class="c0"><span class="c2">Laser</span><span>&nbsp;will start control_lasergui to control the MaiTai laser power and wavelength. The button only appears on Wall-e, the two-photon analysis computer.</span></p><p class="c0"><span class="c2">Stimulus</span><span>&nbsp;will start NewStim&rsquo;s RunExperiment window for visual stimulation control. The button only appears on computers where Psychophysics Toolbox is installed.</span></p><p class="c0"><span class="c2">Analyse</span><span>&nbsp;will analyse open the Analyzetpstack window for image/movie analysis. See </span><span class="c3"><a class="c6" href="https://sites.google.com/site/alexanderheimel/protocols/puncta-analysis-using-matlab">https://sites.google.com/site/alexanderheimel/protocols/puncta-analysis-using-matlab</a></span><span>&nbsp;for more info on this window.</span></p><p class="c0"><span class="c2">Results</span><span>&nbsp;shows a preview image of the data and some of the acquisition parameters. </span></p><p class="c0"><span>P</span><span class="c2">ull down test</span><span>&nbsp;button next to [Results] is used for selecting the next test. When [+] is clicked to create a new record, some values will already be filled in depending on which test is selected in </span></p><p class="c0"><span>this pull down.</span></p><p class="c0"><span class="c2">Close figs</span><span>&nbsp;will close all not persisent figures, i.e. not the database control and record forms.</span></p><p class="c0"><span class="c2">Blind</span><span>&nbsp;temporarily removes date and comment information and reproducably random (but based on the details of the record) reverses or not the sequence of records for a specific mouse and stack.</span></p><p class="c0"><span class="c2">Reverse</span><span>&nbsp;reverses the order of the time series of a selected stack.</span></p><h1 class="c0"><a name="h.eodn72vsha05"></a><span>Graphics database - graph_db</span></h1><p class="c0"><span>This manual explains by a number of examples have to use </span><span class="c2">graph_db</span><span>&nbsp;to produce figures from data stored in one in the InVivoTools experimental databases. </span></p><p class="c0"><span>First, to get the graph_db examples database, fire up matlab and type:</span></p><p class="c1 c0"><span class="c5">experiment(&lsquo;Examples&rsquo;)</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_db</span></p><h2 class="c0"><a name="h.go26ekcn1cfv"></a><span>Simple examples</span></h2><p class="c0"><span>Go to the first record by clicking on the [ |&lt; ] button or by typing 1 in the current record edit field next to the [ &lt; ] button.</span></p><p class="c7 c0"><span></span></p><h3 class="c0"><a name="h.740aoai9if22"></a><span>Example odi</span></h3><p class="c0"><span>You will see a record with few fields filled in:</span></p><p class="c0"><span class="c2">name</span><span>: optional, but useful to find back your graph. Name is also used as default filename if none is given</span></p><p class="c0"><span class="c2">group</span><span>: a comma-separated list of group names. In the simplest case, like here, the group names are used to match the initial characters of the mouse field in mouse_db. Here 05.01.1 will extract all records selected by the filter &lsquo;mouse=05.01.1*&rsquo; in the mouse_db</span></p><p class="c0"><span class="c2">measures</span><span>: a comma-separated list of measures, where measures take the form [DATATYPE:STIMTYPE:MEASURE]. Datatype can be e.g. &lsquo;oi&rsquo;, &lsquo;ec&rsquo;, &lsquo;lfp&rsquo; for intrinsic signal, single-unit or lfp data respectively. Stimtype describes the stimulus, e.g. &lsquo;od&rsquo; for an od test. Browse through the main graph_db for other examples.</span></p><p class="c0"><span class="c2">style</span><span>: describes the type of graph, e.g. &lsquo;bar&rsquo; or &lsquo;xy&rsquo;</span></p><p class="c0"><span class="c2">color</span><span>: Nx3 array, with in each row an RGB value for coloring each group. The RGB values should be between 0 and 1. </span></p><p class="c0"><span class="c2">spaced</span><span>: when 1, spaces out the individual points over the width of the bar. Left most points are first records in the consult experiment database.</span></p><p class="c0"><span class="c2">filename:</span><span>&nbsp;name of saved figure, is created automatically at first compute, or can be manually chosen.</span></p><p class="c7 c0"><span></span></p><p class="c0"><span>If you click [Compute], the figure shown on the right is produced.</span></p><p class="c0"><img height="360" src="images/image00.png" width="243"><img height="218" src="images/image02.png" width="199"></p><p class="c7 c0"><span></span></p><h3 class="c0"><a name="h.1dregwil9i2f"></a><span>Example odi 2</span></h3><p class="c0"><span>If you move to the next graph record, we will see how to refine the figure a little, by changes in the following fields:</span></p><p class="c0"><span class="c2">groups:</span><span>&nbsp;are now the names of records in the group database group_db. This database can be opened by clicking on [Groups] or through the Matlab prompt as group_db. In a group record, a complicated filter can be defined, or a preset color or label. See the section on the Group database for more informatio. </span></p><p class="c0"><span class="c2">test</span><span>: name of the statistical test. Now the kruskal-wallis non-parametric test will be run instead of the default t-test. </span></p><p class="c0"><span class="c2">showpoints</span><span>: when 0, the individual measurements are not shown.</span></p><p class="c0"><span class="c2">prefax</span><span>: if given as a 1x2 vector, the minimum and maximum y-limits. If given as a 1x4 vector, the minimum and maximum x-limits, followed by the y-limits.</span></p><p class="c0"><span class="c2">grouplabels</span><span>: comma-separated list of human-readable group labels. With \newline one can go to the next line. </span></p><p class="c0"><span class="c2">measurelabels</span><span>: comma-separated list of measure labels.</span></p><p class="c0"><span class="c2">extra_code:</span><span>&nbsp;here unlimited extra matlab code can be insert to be run after creation of the graph. In this example additional labels are inserted with the text(x,y,&rsquo;blabla&rsquo;) command. </span></p><p class="c0"><span class="c2">signif_y</span><span>: specificies for a selection of significance calculations whether the should be plotted, and if so at which height. The first column specificies the comparison number, which can be found at the Matlab command window after computing the figure. The second column has the height of the comparison line or NaN if it should not be plotted.</span></p><p class="c0"><img height="312" src="images/image15.png" width="211"><img height="208" src="images/image06.png" width="243"></p><p class="c7 c0"><span></span></p><h3 class="c0"><a name="h.hh0h1p2smi1t"></a><span>Example contra vs ipsi</span></h3><p class="c0"><span>The next graph is of the xy type and shows the responses to stimuation of the contra lateral eye vs that to the ipsi lateral eye. </span></p><p class="c0"><span class="c2">measures:</span><span>&nbsp;in the measures field, you can write small calculation, like here a multiplication with 10 to get premille instead of percentage. Subtraction and division are also possible. Measures can also be added and subtracted from each other.</span></p><p class="c0"><span class="c2">style:</span><span>&nbsp;is now xy. </span></p><p class="c0"><span>showpoints: when it is 2, for each x-value only the mean of the associated y-values are shown, especially useful when x is a set parameter like contrast. </span></p><p class="c0"><span class="c2">prefax:</span><span>&nbsp;now show the 1x4 format, with min x, max x, min y, max y</span></p><p class="c0"><span class="c2">measurelabels</span><span>: some tex like characters are available, like \Delta (&Delta;) or \alpha (&alpha;). Also an underscore will start subscript, and ^ superscript. Use curly braces to write multiple characters as sub- or superscript.</span></p><p class="c0"><span class="c2">extra_options:</span><span>&nbsp;there are many extra options. See below in the Fields section for an exhaustive list. Options are given as sets of two, with first the name of the option, &lsquo;fit&rsquo; in this case, followed by the value, here &lsquo;linear&rsquo;.</span></p><p class="c0"><img height="278" src="images/image21.png" width="188"><img height="222" src="images/image14.png" width="290"></p><p class="c7 c0"><span></span></p><h3 class="c0"><a name="h.foktexepevgv"></a><span>Example contra vs ipsi 2</span></h3><p class="c0"><span>This example shows how more computations with the data is possible.</span></p><p class="c0"><span class="c2">measures:</span><span>&nbsp;functions with a single argument can also be applied to the measure before plotting.</span></p><p class="c0"><img height="273" src="images/image20.png" width="184"><img height="202" src="images/image22.png" width="267"></p><h3 class="c0"><a name="h.h378u01dvkmo"></a><span>Example histogram</span></h3><p class="c0"><span>You can also make a histogram from the data.</span></p><p class="c0"><span class="c2">extra_options:</span><span>&nbsp;uses here &lsquo;bins&rsquo; which set the number of bins, and &lsquo;min_snr&rsquo; which requires a minimum &lsquo;signal-to-noise-ratio&rsquo; for the spike height versus noise. The argument &lsquo;comment&rsquo; is followed by a sting which should be in the comment field for a record to be included in the figure.</span></p><p class="c0"><img height="343" src="images/image04.png" width="232"><img height="238" src="images/image08.png" width="304"></p><p class="c7 c0"><span></span></p><h3 class="c0"><a name="h.618c1b2wz0i0"></a><span>Example cumulative histogram</span></h3><p class="c0"><span>A cumulative histogram is especially useful for comparing two overlapping distributions. The example shows the latex convention of writing C_{50} for C</span><span class="c12">50</span><span>.</span></p><p class="c0"><span class="c2">extra_options</span><span>&nbsp;shows here the selection of nicely isolated single units.</span></p><p class="c0"><img height="316" src="images/image05.png" width="214"><img height="204" src="images/image09.png" width="267"></p><p class="c7 c0"><span></span></p><h3 class="c0"><a name="h.xmmw1s4kozl0"></a><span>Example PSTH</span></h3><p class="c0"><span>A peristimulus time histogram has a whole range of x and y values.</span></p><p class="c0"><img height="320" src="images/image11.png" width="216"><img height="228" src="images/image07.png" width="288"></p><h2 class="c0"><a name="h.48kspi8cm9je"></a><span>Fields</span></h2><h3 class="c0"><a name="h.ovh097bs58ev"></a><span>name</span></h3><p class="c0"><span>Name of the record, can be used for filtering. With this in mind, keep the use of non-alphanumeric characters to a minimum. Space are allowed. Comma&rsquo;s are discouraged. Consistency and explicitness helps to keep track of the records.</span></p><h3 class="c0"><a name="h.6k0n39k7denb"></a><span>groups</span></h3><p class="c0"><span>a comma-separated list of groups, either matching the group field in the group databases, or as the start of filter (followed by an asterix) for the mouse field in the mouse database. &nbsp;Simple group arithmetic with +,-,/ is also possible, e.g &lsquo;B6 control 1 month-B6 MD 7d from p28&rsquo;. Note that you can also select a single mouse, by just specifying the mouse number. </span></p><h3 class="c0"><a name="h.tbbiaangyuwm"></a><span>measures</span></h3><p class="c0"><span>a comma-separated lists of measures, either matching the measure field in the measure database, or of the form datatype:stimtype:measure, e.g. oi:od:odi, or datatype:measure, e.g. ec:snr. Arithmetic with scalars is also possible, by using +,-,*,/ and ^ (power). Use of brackets, like (oi:od:odi+1)/2 is also supported. Comparisons with &lt; and &gt; will evaluate to 0 or 1. &nbsp;Some arithmetic with two measures should also work, but it is not heavily test. The functions &lsquo;mean&rsquo; and &lsquo;std&rsquo; can be called as e.g. &lsquo;mean(weight)&rsquo;.</span></p><h3 class="c0"><a name="h.vw4p0yc4i4k4"></a><span>style&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h3><p class="c0"><span>determines graph style. Can be &lsquo;bar&rsquo;,&rsquo;box&rsquo; (bar graph with median instead of mean), &lsquo;xy&rsquo;, &lsquo;hist&rsquo; (histogram), &lsquo;cumul&rsquo; (cumulative histogram) and &lsquo;rose&rsquo;</span></p><h3 class="c0"><a name="h.r2istf6vuf1i"></a><span>test</span></h3><p class="c0"><span>Statistical test to use. Allowed values are &lsquo;ttest&rsquo; (identical to &lsquo;ttest2&rsquo;), &lsquo;paired_ttest&rsquo;,&rsquo;chi2&rsquo;, &lsquo;kruskal-wallis&rsquo;,&rsquo;kruskal_wallis&rsquo; and &lsquo;none&rsquo;.</span></p><h3 class="c0"><a name="h.rkrkrlh7l1cd"></a><span>showpoints</span></h3><p class="c0"><span>Determines whether and how to show individual data points. 0 shows no points, 1 shows all points, 2 shows all x, but only mean of y values. The last option is useful for plotting y for a fixed range of x, like contrasts.</span></p><h3 class="c0"><a name="h.hqfhyk2eao9k"></a><span>color</span></h3><p class="c0"><span>An Nx3 array with RGB values (between 0 and 1) for each group, i.e. [1 0 0; 0 1 0;0 0 1] gives three groups the colors red, green and blue.</span></p><h3 class="c0"><a name="h.n16905n6ds6l"></a><span>prefax</span></h3><p class="c0"><span>Either a 1x2 vector with the minimum and maximum y-limits, like [-1 1], or a 1x4 vector with x- and y-limits, [minx maxx miny maxy]</span></p><h3 class="c0"><a name="h.ptr21hkzyw7t"></a><span>spaced</span></h3><p class="c0"><span>Option primary useful for bar graph. 0 shows all points within a bar on a single x-position. 1 and 2 space them out over the width of the bar. 1 does this with NaN values removed, 2 inserts empty spaces for NaN values.</span></p><h3 class="c0"><a name="h.fyfllqww9rr8"></a><span>group labels</span></h3><p class="c0"><span>Comma-separated list of group labels, allows some matlab tex interpretations, like \alpha or monocular\newlinedeprivation.</span></p><h3 class="c0"><a name="h.2b2awzs0k0zp"></a><span>measure labels</span></h3><p class="c0"><span>Comma-separated list of measure labels, allows some matlab tex interpretations, like \alpha, &nbsp;C_{50}, &nbsp;m^2. More complicated texts can be done via the extra_code option using text and latex interpreter (see help tex).</span></p><h3 class="c0"><a name="h.i0d8sz1nmjv"></a><span>extra_options</span></h3><p class="c0"><span class="c8">reliable</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 (default) to use only reliable records, 0 to use all. </span></p><p class="c0"><span class="c8">verbose</span><span>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 to see extra information or graphs. 0 for not (default).&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c0"><span class="c8">errorbars</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Word, or a semi-colon separated cell list of &lsquo;sem&rsquo;, &lsquo;none&rsquo;.</span></p><p class="c0"><span class="c8">errorbars_sides</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Word or semi-colon separated cell list of &lsquo;both&rsquo;, &lsquo;away&rsquo;.</span></p><p class="c0"><span class="c8">save_option</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 (default) to save, 0 to not save.</span></p><p class="c0"><span class="c8">eyes</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Select record by filtering &lsquo;eye=*eyes*&rsquo;, e.g. &lsquo;none&rsquo;, &lsquo;both&rsquo;,&rsquo;contra&rsquo;,&rsquo;ipsi&rsquo;.</span></p><p class="c0"><span class="c8">celltype</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Select cell type, e.g. &lsquo;all&rsquo;, &lsquo;mu&rsquo;, &lsquo;su&rsquo;.</span></p><p class="c0"><span class="c8">min_n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Select only groups with at least min_n datapoints.</span></p><p class="c0"><span class="c8">markers</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Word or semi-colon separated cell list of &#39;none&#39;, &#39;open_triangle&#39;,</span></p><p class="c1 c0 c13"><span>&#39;closed_triangle&#39;, &#39;open_circle&#39; or &#39;closed_circle&#39; </span></p><p class="c0"><span class="c8">markersize</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Size in points. Default is 12.</span></p><p class="c0"><span class="c8">group_by</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Group date by &lsquo;group&rsquo; or &lsquo;measure&rsquo;.</span></p><p class="c0"><span class="c8">legnd</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Semi-colon separated cell list of strings, e.g. {&lsquo;wild type&rsquo;;&rsquo;transgenic&rsquo;}</span></p><p class="c0"><span class="c8">depth</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Selects only record at specified depth.</span></p><p class="c0"><span class="c8">xlab</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X-axis label string.</span></p><p class="c0"><span class="c8">ylab</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Y-axs label string.</span></p><p class="c0"><span class="c8">xticklabels</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XTick labels, 1xN vector.</span></p><p class="c0"><span class="c8">rotate_xticklabels</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Angle in degrees to rotate XTicklabels.</span></p><p class="c0"><span class="c8">bins</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Numer of bins for (cumulative) histogram and rose plot. Default 16.</span></p><p class="c0"><span class="c8">tail</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tail to use for significance tests, i.e. &lsquo;both&rsquo;, &lsquo;right&rsquo; or &lsquo;left&rsquo;. </span></p><p class="c0"><span class="c8">linestyles</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Word or semi-colon separated cell list of styles, like plot, e.g. &lsquo;-k&rsquo;, &lsquo;:r&rsquo;</span></p><h3 class="c0"><a name="h.16ubtpnikci"></a><span>extra_code</span></h3><p class="c0"><span>matlab code that will be evaluated directly after creating the figure, e.g. set(gca,&rsquo;xscale&rsquo;,&rsquo;log&rsquo;); or axis equal or set(h.fit(1),&#39;color&#39;,[0 0 0]) or use keyboard to see which variables are available. </span></p><h3 class="c0"><a name="h.8vergzk6inaf"></a><span>filename</span></h3><p class="c0"><span>name of save file. If left empty, one will be created from name (with removal of all coding characters) and returned to this field.</span></p><h3 class="c0"><a name="h.y2tt8jfk5wgr"></a><span>author</span></h3><p class="c0"><span>name or initials of the person who created the graph record</span></p><h3 class="c0"><a name="h.nv1wqcmm5auf"></a><span>created</span></h3><p class="c0"><span>date and time of creation of the record</span></p><h3 class="c0"><a name="h.ziz3uwym67v"></a><span>modified</span></h3><p class="c0"><span>data and time of last successful computation of the graph</span></p><h3 class="c0"><a name="h.tx08uovwrn6k"></a><span>path</span></h3><p class="c0"><span>where to save the figure. If left open, it will go to the current folder.</span></p><h3 class="c0"><a name="h.29gloos72suc"></a><span>value_per</span></h3><p class="c0"><span>how to group values, options are &lsquo;measurement&rsquo;, &lsquo;mouse&rsquo;, XXXXXXX</span></p><h3 class="c0"><a name="h.5enyfr884fvb"></a><span>signif_y</span></h3><p class="c0"><span>Determine if and where to calculate and plot significances. A single 0 will turn off significance testing. Otherwise a Nx2 list, with the comparison number (i.e. group 1 vs 2 is 1, group 1 vs 3 is 3, group 2 vs 3 is 3 for a 3-group comparison) in the first column, and the y-position in the second column. NaN for a y-position means do not calculate. </span></p><h3 class="c0"><a name="h.96n3pl74r0yo"></a><span>ylab</span></h3><p class="c0"><span>Y-axs label string.</span></p><h1 class="c0"><a name="h.k3iygzn1p1zv"></a><span>Group database - group_db</span></h1><p class="c0"><span>If you want, more complex groups selection, or reuse group labels and colours, you want to predefine your group as a record in the group database group_db.</span></p><p class="c0"><img height="153" src="images/image12.png" width="333"></p><p class="c0"><span>The above record shows how filters can become arbitrarily complex. This group will select records which satisfy the specified filter (type=*control adult*,...) </span><span class="c8">and</span><span>&nbsp;which also belong to the groups given in the &lsquo;combine&rsquo; field, which each have their own filters.</span></p><h1 class="c0"><a name="h.s0gfh6amtby0"></a><span>Measure database - measure_db</span></h1><p class="c0"><img height="174" src="images/image17.png" width="333"></p><p class="c0"><span>The measure record defines a preferred label and averaging behavior (point), but does otherwise not add much to the direct entry of the type datatype:stim_type:measure into the graph record.</span></p><h1 class="c0"><a name="h.9zs62m95pwtg"></a><span>Database administration</span></h1><p class="c0"><span>Outside the normal operation of the InVivoTools is changing the database structures. Future changes in setups or requirements, however, may make it necessary to add, shuffle or remove fields. This can all be done by opening the database administration control by</span></p><p class="c0"><span class="c5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;admin_db</span></p><p class="c0"><span>at the Matlab prompt. This will open the window below.</span></p><p class="c0"><img height="188" src="images/image19.png" width="587"></p><p class="c0"><span>Next the database can be loaded via the Load button and fields can be added, removed, reordered and renamed by clicking on the respective buttons. </span></p><h1 class="c0"><a name="h.fbytntyycm5d"></a><span>Software internals</span></h1><p class="c0"><span>The root folder of InVivoTools contains the startup.m which is run by Matlab at start up and sets the necessary paths. Furthermore it contains a large number of folders. </span></p><p class="c0"><span class="c2">Calibration</span><span>&nbsp;- Monitor calibrations<br></span><span class="c2">Configuration</span><span>&nbsp;- NewStim Configuration files<br></span><span class="c2">Electrophysiology</span><span>&nbsp;- Ephys test analyses and interfaces with acquisition software</span></p><p class="c1 c0"><span class="c2">Son</span><span>&nbsp;- Library of Import routines from Spike2 data</span></p><p class="c1 c0"><span class="c2">Spike2</span><span>&nbsp;- Scripts for Spike2<br></span><span class="c2">ERG</span><span>&nbsp;- Electroretinogram <br></span><span class="c2">ExpDataTools</span><span>&nbsp;- Overhead function to store and show data</span></p><p class="c1 c0"><span class="c2">Labs</span><span>&nbsp;- Some lab specific stuff, like the desktop background, and data paths.</span></p><p class="c1 c0"><span class="c2">MdbTools</span><span>&nbsp;- Linux tools for accessing MS Access database files.</span><span><br></span><span class="c2">General</span><span>&nbsp;- Many general purpose Matlab tools, including database tools<br></span><span class="c2">intrinsic_signal_stimuli</span><span>&nbsp;- Old intrinsic signal stimuli, still in use for Andrew<br></span><span class="c2">NelsonLabTools</span><span>&nbsp;- Archive of extra ephys software<br></span><span class="c2">NeuralAnalysis</span><span>&nbsp;- Core of ephys analysis</span></p><p class="c0"><span class="c2">NewStim</span><span>&nbsp;- Contains PTB2 only version of NewStim and i no longer in use</span></p><p class="c0"><span class="c2">NewStim3</span><span>&nbsp;- PsychToolbox 3 version of NewStim visual stimulus software<br></span><span class="c2">OpticalImaging</span><span>&nbsp;- Wide field imaging analysis and stimuli</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c2">IntrinsicSignalStimuli3</span><span>&nbsp;- Stimulus scripts</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c2">VDAQ</span><span>&nbsp;- VDAQ parameter files</span></p><p class="c0"><span class="c2">Shutters</span><span>&nbsp;- Software and drivers to run parallax eye shutters<br></span><span class="c2">Studies</span><span>&nbsp;- Specific analysis routines for publications<br></span><span class="c2">TwoPhoton</span><span>&nbsp;- Twophoton analysis software, analyzetpstack</span></p><p class="c1 c0"><span class="c2">Laser</span><span>&nbsp;- Laser control gui</span></p><p class="c1 c0"><span class="c2">Platforms</span><span>&nbsp;- Routines specific for microscope platform</span></p><p class="c1 c0"><span class="c2">Reid_cell_finder</span><span>&nbsp;- Cell ROI finder from Ohki</span></p><p class="c1 c0"><span class="c2">Stage</span><span>&nbsp;- References for Sutter stage (for later automation)</span></p><p class="c1 c0"><span class="c2">Synchronization</span><span>&nbsp;- Lab specific routines for analysis and acquisition.</span></p><div><p class="c7 c0 c15"><span></span></p></div></body></html>